<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<base href='http://localhost/~linjiao/vnf2/'/>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Ajax upload demo</title>

<style media='all' rel='stylesheet'>@import url(css/visual.css);</style>
<style media='all' rel='stylesheet'>@import url(css/visual-color.css);</style>
<style media='all' rel='stylesheet'>@import url(css/structural.css);</style>
<style media='all' rel='stylesheet'>@import url(css/structural-color.css);</style>
<style media='all' rel='stylesheet'>@import url(css/classes.css);</style>

<style media='all' rel='stylesheet'>@import url(css/classes-color.css);</style>
<style media='all' rel='stylesheet'>@import url(css/reports.css);</style>
<style media='all' rel='stylesheet'>@import url(css/reports-color.css);</style>

<script src="javascripts/jquery/jquery.js"></script>
<script src="javascripts/jquery/ajaxupload.3.0.js"></script>

<script type= "text/javascript">/*<![CDATA[*/
$(document).ready(function(){

	/* example 1 */
	var button = $('#button1'), interval;
	new Ajax_upload(button,{
		//action: 'upload-test.php', // I disabled uploads in this example for security reasons
		action: 'upload.htm', 
		name: 'myfile',
		onSubmit : function(file, ext){
			// change button text, when user selects file			
			button.text('Uploading');
			
			// If you want to allow uploading only 1 file at time,
			// you can disable upload button
			this.disable();
			
			// Uploding -> Uploading. -> Uploading...
			interval = window.setInterval(function(){
				var text = button.text();
				if (text.length < 13){
					button.text(text + '.');					
				} else {
					button.text('Uploading');				
				}
			}, 200);
		},
		onComplete: function(file, response){
			button.text('Upload');
						
			window.clearInterval(interval);
						
			// enable upload button
			this.enable();
			
			// show filename
			$('#uploaded').text(file+" uploaded");
		}
	});

});/*]]>*/</script>

			</head>
<body>
<div id="text">
<h1>Ajax upload for jQuery demo</h1>
</div>

<div>
  <table> <tbody>
    <tr>
      <td>
        <div id="button1" class="uploadButton">Upload</div>
      </td>
      <td>
	<p id="uploaded"></p>
      </td>
    </tr>
  </tbody> </table>
</div>


</body>
</html>