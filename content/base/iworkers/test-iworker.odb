
from pyre.components.Component import Component

class Worker(Component):


    def run(self, task):
        director = self.director
        import time
        N = 20
        for i in range(N):
            director.declareProgress(1.*i/N, 'running...')
            time.sleep(0.2)
            continue
        director.declareProgress(1., 'done.')
        return
    

def iworker():
    return Worker('test-iworker', 'iworker')
