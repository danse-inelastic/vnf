#!/usr/bin/env python
#
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#
#                               Alex Dementsov
#                      California Institute of Technology
#                        (C) 2009  All Rights Reserved
#
# {LicenseText}
#
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#

from vnfb.qeutils.qegrid import QEGrid

import luban.content as lc
from luban.content import load, select
from luban.content.FormTextArea import FormTextArea
from luban.content.FormTextField import FormTextField
from luban.content.FormSubmitButton import FormSubmitButton
from luban.content.Form import Form


def visual(director, id):
    form        = Form()
    table       = QEGrid(lc.grid(Class="qe-form"))
    form.add(table.grid())

    text            = FormTextArea(name="text", value="Hi", Class="qe-text-area")
    fname           = FormTextField(name = "fname", value = "Hello")
    description     = FormTextField(name = "description", value = "World") 

    submit      = FormSubmitButton(label="Create Test")
    cancel      = lc.button(label="Cancel")
    cancel.onclick  = load( actor   = 'material_simulations/espresso-convergence/input-view',
                            id      = id)

    st          = QEGrid(lc.grid()) # Submit Table
    st.addRow((submit, cancel), ("qe-action-accept", "qe-action-cancel"))

    table.addRow(("Configuration: *", text ))
    table.addRow(("Name:", fname))
    table.addRow(("Description:", description))
    table.addRow(("", st.grid()))

    table.setColumnStyle(0, "qe-form-label")
    table.setColumnStyle(1, "qe-form-field")

    form.onsubmit   = select(element=form).submit(actor     = 'material_simulations/espresso/input-edit',
                                                  routine   = 'updateRecord',
                                                  id        = id)
    return form

__date__ = "$Apr 23, 2010 2:41:34 PM$"


