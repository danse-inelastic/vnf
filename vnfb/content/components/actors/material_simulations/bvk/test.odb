#!/usr/bin/env python
#
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#
#                                 Jiao Lin
#                      California Institute of Technology
#                      (C) 2006-2009  All Rights Reserved
#
# {LicenseText}
#
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#


from luban.content import load, select, alert
import luban.content as lc


from luban.components.Actor import Actor as base

class Actor(base):


    class Inventory(base.Inventory):

        import pyre.inventory


    def force_constant_form_onebond(self, director):
        p = lc.page()
        
        d1 = p.document(title='test form 1')
        v = director.retrieveVisual(
            'material_simulations/bvk/force-constant-form-onebond',
            uid = 'bond1', sites = [0],
            )
        d1.add(v)
        
        d2 = p.document(title='test form 2')
        v = director.retrieveVisual(
            'material_simulations/bvk/force-constant-form-onebond',
            uid = 'bond2', sites = [0,1],
            site1 = 0, site2 = 1,
            matrix = [ [1,2,3],
                       [4,5,6],
                       [7,8,9],
                       ],
            )
        d2.add(v)


        # create constraints
        from vnfb.utils.constraints import Variable
        class M(Variable):
            def __init__(self, *indexes): self.indexes = indexes
        m10 = M(1,0)
        m01 = M(0,1)
        constraint = m10 == m01
        constraints = [constraint]
        
        d3 = p.document(title='test form 3')
        v = director.retrieveVisual(
            'material_simulations/bvk/force-constant-form-onebond',
            uid = 'bond3', sites = [0,1],
            site1 = 0, site2 = 1,
            matrix = [ [1,2,3],
                       [4,5,6],
                       [7,8,9],
                       ],
            constraints = constraints,
            )
        d3.add(v)
        
        return p


def actor(): return Actor('test')


# version
__id__ = "$Id$"

# End of file 

